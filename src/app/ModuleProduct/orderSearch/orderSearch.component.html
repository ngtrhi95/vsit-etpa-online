<div class="container" style="background-color: #fff; margin-top: 16px;">
    <section class="product_details_section product_introduction_section">
        <div class="col-md-12">
            <div class="product_details_content no-padding">
                <div class="product_details_title text-center">
                    <h2 class="custom">Kiểm tra đơn hàng</h2>
                </div>
                <div class="product_details_description">
                    <div class="form-group col-md-offset-3 col-md-3">
                        <input [(ngModel)]="keyword" (keyup.enter)="findOrderDetail()" type="text" class="form-control" id="input4" placeholder="Mã đơn hàng hoặc Số ấn chỉ">
                    </div>
                    <div class="form-group col-md-3">
                        <input [(ngModel)]="phoneNumber" (keyup.enter)="findOrderDetail()" type="text" class="form-control" id="input5" placeholder="Số điện thoại đặt mua">
                    </div>
                    <div class="form-group col-md-3">
                        <button class="btn btn-main" (click)="findOrderDetail()">
                            <i class="fa fa-search"></i> Kiểm tra</button>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
<div *ngIf="orderDetail.code == null && find1st">
    <div class="container">
        <div class="col-md-12 text-center" style="background-color: #fff">
            <p>{{mess}}</p>
        </div>
    </div>
</div>
<div *ngIf="orderDetail.code != null">
    <div class="container" style="background-color: #fff; margin-top: 16px;">
        <section class="product_details_section product_introduction_section">
            <div class="col-md-12">
                <div class="product_details_content no-padding">
                    <div class="product_details_title">
                        <h2>Chi tiết đơn hàng</h2>
                    </div>
                    <div class="product_details_description">
                        <div class="pull-left">
                            <p style="padding-bottom: 8px;">Đơn hàng #{{orderDetail.code}}</p>
                            <p style="padding-bottom: 8px;">Loại hợp đồng:
                                <b>{{orderDetail.contractProgramName}}</b>
                            </p>
                            <p style="padding-bottom: 8px;">Số ấn chỉ:
                                <b>{{orderDetail.certificationNumber || 'Chưa có'}}</b>
                            </p>
                            <p style="padding-bottom: 8px;">Đặt ngày {{orderDetail.createdDate | date:'d'}} tháng {{orderDetail.createdDate | date:'M'}}
                                - {{orderDetail.createdDate | date:'y'}}</p>
                        </div>
                        <!-- <p class="pull-right" style="font-size: 18px">Tổng cộng:
                            <b>{{orderDetail.finalSubTotalAmount | numberConverter}} vnđ</b>
                        </p> -->
                    </div>
                </div>
            </div>
        </section>
    </div>
    <div class="container" *ngIf="orderDetail.havingShipment" style="background-color: #fff">
        <app-process-step [processList]="processItems" [activeItem]="activeItemInProcess"></app-process-step>
    </div>
    <div class="container" style="background-color: #fff; margin-bottom: 16px;">
        <div class="col-md-12">
            <div class="jumbotron">
                <div class="row" *ngFor="let item of viewNotes">
                    <div class="col-md-2" style="color: #9e9e9e" *ngIf="item.note != 'SHIPPING_STARTED'">{{item.createdOn | date:'d'}} thg {{item.createdOn | date:'M'}} {{item.createdOn | date:'y'}} - {{item.createdOn
                        | date:'H:mm'}}</div>
                    <div class="col-md-10">{{item.detail}}</div>
                </div>
                <div class="view-more">
                    <a class="text link">
                        <span class="tracking-view-btn" (click)="showMore()" *ngIf="viewNotes.length != orderDetail.orderNotes?.length">XEM THÊM</span>
                    </a>
                    <a class="text link">
                        <span class="tracking-view-btn" (click)="showLess()" *ngIf="viewNotes.length == orderDetail.orderNotes?.length">THU GỌN</span>
                    </a>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="jumbotron">
                <div class="row">
                    <h3 style="margin-bottom: 8px;">Thông tin thanh toán</h3>
                </div>
                <div class="row">
                    <p class="pull-right" style="margin-bottom: 8px;">{{orderDetail.finalSubTotalAmount | numberConverter}} vnđ</p>
                    <p style="margin-bottom: 8px; font-size: 16px;">Tổng phí:</p>
                </div>
                <div class="row">
                    <p class="pull-right" style="margin-bottom: 8px;">{{orderDetail.paymentSupplierName || 'Chuyển khoản'}}</p>
                    <p style="margin-bottom: 8px; font-size: 16px;">Phương thức thanh toán:</p>
                </div>
            </div>
        </div>
        <div class="col-md-6" *ngIf="orderDetail.havingShipment">
            <div class="jumbotron">
                <div class="row">
                    <h3 style="margin-bottom: 8px;">Thông tin giao hàng</h3>
                </div>
                <div class="row">
                    <p class="pull-right" style="margin-bottom: 8px; font-size: 16px;">{{orderDetail.shipment.receiverName}}</p>
                    <p style="margin-bottom: 8px; font-size: 16px;">Tên người nhận:</p>
                </div>
                <div class="row">
                    <p class="pull-right" style="margin-bottom: 8px; font-size: 16px;">{{longAddress}}</p>
                    <p style="margin-bottom: 8px; font-size: 16px;">Địa chỉ:</p>
                </div>
                <div class="row">
                    <p class="pull-right" style="margin-bottom: 8px; font-size: 16px;">{{orderDetail.shipment.receiverPhone}}</p>
                    <p style="margin-bottom: 8px; font-size: 16px;">Số điện thoại:</p>
                </div>
            </div>
        </div>
    </div>
</div>
